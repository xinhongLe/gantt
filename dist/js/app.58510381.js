(function(){"use strict";var e={4886:function(e,t,a){var i=a(2856),l=a(4927),s=a.n(l),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("ganttDemo")],1)},r=[],o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap"},[e.showOther?t("div",{staticClass:"header"},[t("el-date-picker",{attrs:{type:"date",placeholder:"日期",format:"yyyy/MM/dd","value-format":"yyyy/MM/dd"},on:{change:e.handleChange},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1):e._e(),t("div",{staticClass:"bottom"},[t("div",{class:{"left-box":!0,showDetail:e.showDetail}},[t("div",{staticClass:"gt1",staticStyle:{height:"400px"}},[t("ganttChartVue",e._b({ref:"ganTT1",attrs:{showMarkLine:!!e.showOther&&e.showMarkLine,markLineTime:e.markLineTime},on:{"update:markLineTime":function(t){e.markLineTime=t},"update:mark-line-time":function(t){e.markLineTime=t},changeMarkLineClick:e.changeMarkLineClick1,rightClickMenuClick:e.rightClickMenuClick1,taskMenuBtnClick:e.taskMenuBtnClick,tagMenuBtnClick:e.tagMenuBtnClick1}},"ganttChartVue",e.ganTT1Option,!1))],1)]),t("el-drawer",{attrs:{visible:e.drawer},on:{"update:visible":function(t){e.drawer=t}}},[t("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"基础信息",name:"1"}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"设备名称"}},[t("el-select",{attrs:{placeholder:"请选择设备名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}},e._l(e.optionList,(function(e){return t("el-option",{attrs:{label:e.label,value:e.label}})})),1)],1),t("el-form-item",{attrs:{label:"流转卡号"}},[t("el-input",{model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),t("el-form-item",{attrs:{label:"工艺号"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),t("el-form-item",{attrs:{label:"长度"}},[t("el-input",{model:{value:e.form.length,callback:function(t){e.$set(e.form,"length",t)},expression:"form.length"}})],1),t("el-form-item",{attrs:{label:"时间\n      "}},[t("el-time-picker",{attrs:{"is-range":"","value-format":"HH:mm",format:"HH:mm","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.form.times,callback:function(t){e.$set(e.form,"times",t)},expression:"form.times"}})],1),t("el-form-item",[t("el-button",{on:{click:function(t){e.drawer=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1)],1),t("el-tab-pane",{attrs:{label:"染缸参数",name:"2"}},[e._v("染缸参数")]),t("el-tab-pane",{attrs:{label:"订单信息",name:"3"}},[e._v("订单信息")])],1)],1)],1)])},g=[];a(4114);function h(e){let t=null;if("[object Array]"===Object.prototype.toString.call(e)){t=[];for(let a=0;a<e.length;a++)t.push(h(e[a]))}else if("[object Object]"===Object.prototype.toString.call(e)){t={};for(let a in e)t[a]=h(e[a])}else t=e;return t}var c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"gantt-chart-wrap"},[t("div",{staticClass:"gap",style:{background:e.ganttBgColor}}),t("div",{ref:"ganttBoxRefDom",staticClass:"gantt-chart-box",style:{background:e.ganttBgColor},attrs:{tabindex:"-2"},on:{click:e.ganTTClick,blur:e.ganTTblur,contextmenu:e.utils.oncontextmenuDisabled}},[t("yTimeLine",e._b({},"yTimeLine",e.currentTimeLine,!1)),t("yTimeLine",e._b({},"yTimeLine",e.markLine,!1)),t("yTimeLine",e._b({staticStyle:{"z-index":"20"}},"yTimeLine",e.movingTimeLine,!1)),t("canvas",{ref:"canvasGanttRefDom"},[e._v("您的浏览器不支持 HTML5 canvas标签")]),t("div",{staticClass:"row-header",style:{height:e.paintTop}},[t("span",{ref:"titleRefDom",staticClass:"gt-title",style:{width:e.paintLeft,height:e.paintTop}},[e._v(e._s(e.title))]),t("div",{staticClass:"header-right"},[t("div",{ref:"headerBoxRefDom",staticClass:"scrollX"},e._l(e.colsInfo,(function(a,i){return t("span",{key:i,staticClass:"paint-col"},[t("span",{staticClass:"name"},[e._v(e._s(e.utils._date.format(a.t,e.timeFormat)))]),t("i",{staticClass:"sLine",style:{background:e.gridLineColor}})])})),0)])]),t("div",{staticClass:"row-bottom",style:{height:e.ganTTBottomHeight?e.ganTTBottomHeight+"px":""}},[t("div",{staticClass:"box-left scrollY",style:{width:e.paintLeft}},e._l(e.rowsInfo,(function(a,i){return t("div",{key:i,class:{"paint-row":!0,disabled:a.disabled,canSelected:e.taskMenuList.length||a.taskMenuList,selected:e.taskMenu.selectRow&&e.taskMenu.selectRow.label===a.label},style:{backgroundColor:a.disabled?e.disabledBgColor:""},on:{contextmenu:function(t){return t.stopPropagation(),e.taskMenu_Open(t,a)}}},[t("span",{staticClass:"name"},[e._v(e._s(a.label))]),t("i",{staticClass:"sLine",style:{background:e.gridLineColor}})])})),0),t("div",{ref:"boxRightRefDom",staticClass:"box-right"},[t("div",{ref:"paintBoxRefDom",staticClass:"box-paint scrollY",staticStyle:{"text-align":"right"}},[t("canvas",{ref:"canvasGridRefDom"},[e._v("您的浏览器不支持 HTML5 canvas标签")]),t("canvas",{ref:"canvasGuideBoxRefDom",staticStyle:{"z-index":"99"}},[e._v("您的浏览器不支持 HTML5 canvas标签")]),t("div",{ref:"rightClickMenuRefDom",staticClass:"rightClickMenu",on:{contextmenu:e.utils.oncontextmenuDisabled}},[t("ul",e._l(e.rightClickMenuList,(function(a,i){return t("li",{key:`${a}-${i}}}`,class:{disabled:a.disabled},on:{click:function(t){return t.stopPropagation(),e.rightClickMenuEvent(t,a,i)},contextmenu:function(t){return t.stopPropagation(),e.utils.oncontextmenuDisabled.apply(null,arguments)}}},[e._v(e._s(a.label))])})),0)]),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.tagMenu.visible,expression:"tagMenu.visible"}],ref:"tagMenuRefDom",staticClass:"tag-menu",style:e.tagMenu.style,on:{click:function(t){e.autoCloseTagMenu=!1}}},e._l(e.tagMenu.btnList,(function(a,i){return t("li",{key:`${a.label}-${i}}`,class:{disabled:a.disabled},on:{click:function(t){return t.stopPropagation(),e.tagMenuBtnClickHandle(t,a,i)},contextmenu:function(t){return t.stopPropagation(),e.utils.oncontextmenuDisabled.apply(null,arguments)}}},[e._v(" "+e._s(a.label))])})),0),e._l(e.tagList,(function(a){return[a.hide?e._e():t("tagItem",{key:a.tagId,style:{background:e.getLegendConfig(a).color||"#000000"},attrs:{tipWdith:e.tipWdith,tagItem:a,tagMoveCallback:e.tagMove,dragable:e.tagItemDragable(a),closeTip:e.tagItemCloseTip(a),showOperateMark:e.tagHasOperateMenu(a),showSelected:e.showSelected},on:{tagDragStart:e.tagDragStart,changeEnd:e.tagChangeEnd,tagContextmenu:e.tagContextmenuHandle,tagClick:e.tagClickHandle,tagBlur:e.tagblurHandle},scopedSlots:e._u([{key:"tagTip",fn:function({tagData:t}){return[e._t("tagTip",null,{tagData:t})]}}],null,!0)})]}))],2),t("div",{ref:"scrollXBarDom",staticClass:"scrollXBar"},[t("div",{style:{width:this.paintBoxInfo.width+"px"}})])]),t("div",{ref:"scrollYBarDom",staticClass:"scrollYBar"},[t("div",{style:{height:this.paintBoxInfo.height+"px"}})])]),e._l(e.summaryRows,(function(a,i){return t("div",{key:i,staticClass:"stat-bottom"},[a.length>0?[t("div",{staticClass:"stat-bottom_title",style:{width:e.paintLeft,minHeight:e.rowMinRowHeight}},[e._v(e._s(a[0]))]),t("div",{staticClass:"stat-bottom_right"},[t("div",{staticClass:"scrollX"},e._l(e.colsInfo,(function(l,s){return t("span",{key:`${i}-${s}`,staticClass:"stat-bottom_col",style:{width:`${e.colsInfo[s]?e.colsInfo[s].w:0}px`}},[t("span",{staticClass:"name"},[e._v(e._s(a[s+1]))]),t("i",{staticClass:"sLine",style:{background:e.gridLineColor}})])})),0)])]:e._e()],2)})),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.taskMenu.visible,expression:"taskMenu.visible"}],ref:"taskMenuRefDom",staticClass:"task-menu",style:e.taskMenu.style},e._l(e.taskMenu.btnList,(function(a,i){return t("li",{key:`${a.label}-${i}}`,class:{disabled:a.disabled},on:{click:function(t){return t.stopPropagation(),e.taskMenuBtnClick(t,a,i)},contextmenu:function(t){return t.stopPropagation(),e.utils.oncontextmenuDisabled.apply(null,arguments)}}},[e._v(" "+e._s(a.label))])})),0)],2),t("el-dialog",{attrs:{title:"时间选择",visible:e.tagTimeDialog.visible,width:"450px","close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.tagTimeDialog,"visible",t)}}},[t("div",[t("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","value-format":"yyyy/MM/dd HH:mm:ss"},model:{value:e.tagTimeDialog.timeRange,callback:function(t){e.$set(e.tagTimeDialog,"timeRange",t)},expression:"tagTimeDialog.timeRange"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeTagTimeDialog}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmTagTimeDlaiog}},[e._v("确 定")])],1)])],1)},d=[],m=a(1488),u=a.n(m);function f(e,t){var a,i,l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),s=[];if(t=t||l.length,e)for(a=0;a<e;a++)s[a]=l[0|Math.random()*t];else for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",a=0;a<36;a++)s[a]||(i=0|16*Math.random(),s[a]=l[19==a?3&i|8:i]);return s.join("")}Function.prototype.call.bind(Object.prototype.toString);function T(e){let t=null;if("[object Array]"===Object.prototype.toString.call(e)){t=[];for(let a=0;a<e.length;a++)t.push(T(e[a]))}else if("[object Object]"===Object.prototype.toString.call(e)){t={};for(let a in e)t[a]=T(e[a])}else t=e;return t}function p(e){let t=window.getComputedStyle(e,null);return"static"!==t.position}function b(e){if(!e)return null;let t=e.parentNode,a=null;while(t&&"BODY"!==t.nodeName&&"HTML"!==t.nodeName){if(p(t)){a=t;break}t=t.parentNode}return a||(a=document.getElementsByTagName("body")[0]),a}const y={_date:{format(e,t="YYYY-MM-DD HH:mm:ss"){return u()(e).format(t)},add(e="",t=1,a="day"){return u()(e).add(t,a)}},isNull(e){return null===e||void 0===e||""===e||"NaN"===e.toString()},getStrVal(e,t="",a=""){return this.isNull(e)?t:e+a},getUnit(e=""){return(e.match(/[^.\d]*/gi)||[]).find((e=>e))||""},delValUnit(e,t){if(!t&&(t=this.getUnit(e),!t))return e;let a=new RegExp(t+"$","ig");return e.replace(a,"")},oncontextmenuDisabled(e){return e.stopPropagation(),e.preventDefault(),!1},setDOMH(e,t){e&&e.style&&(e.style.height=t+"px")},setDOMW(e,t){e&&e.style&&(e.style.width=t+"px")},getDOMWH(e){let t=e||{};return{w:t.offsetWidth||0,h:t.offsetHeight||0}},clearCanvas(e){if(!e)return;let t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},setCanvasWH(e,t,a){e&&(e.width=t,e.height=a,e.style.width=t+"px",e.style.height=a+"px")},easeInOutQuad(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)},smoothScroll({startPosition:e,distance:t,duration:a=300,callBack:i}={duration:300}){let l=null,s=n=>{!l&&(l=n);let r=n-l,o=this.easeInOutQuad(r,e,t,a);i&&i(o),r<a&&requestAnimationFrame(s)};requestAnimationFrame(s)}};function w({contentDom:e,dragDom:t,left:a,top:i}){let l=0,s=0,n=e.offsetWidth-t.offsetWidth,r=e.offsetHeight-t.offsetHeight;return a<l&&(a=l),i<s&&(i=s),a>n&&(a=n),i>r&&(i=r),{left:a,top:i}}function v({disabledYMin:e,disabledYMax:t,tagHeight:a,tagTop:i}){return i>e-a&&i<t}var D=function(){var e=this,t=e._self._c;return t("div",{ref:"dragBoxRef",class:["tagItem",e.moving?"moving":"",this.dragable?"dragable":"",e.showSelected&&e.tagItem.selected?"selected":""],style:e.tagItem.style,attrs:{tabindex:"-2"},on:{mousedown:function(t){return t.stopPropagation(),e.moveBox.apply(null,arguments)},contextmenu:function(t){return t.stopPropagation(),e.contextmenuHandle.apply(null,arguments)},click:function(t){return t.stopPropagation(),e.clickHandle.apply(null,arguments)},"!blur":function(t){return e.tagBlur.apply(null,arguments)}}},[e.closeTip?[t("span",{class:["tagLabel",e.tagItem.className]},[t("tagItemLabel",{attrs:{"tag-item":e.tagItem,showOperateMark:e.showOperateMark}})],1)]:[t("el-popover",{attrs:{"popper-class":"ganTTTagTip",placement:"right",width:e.tipWdith,trigger:"manual","visible-arrow":!1,offset:0},model:{value:e.visibleTip,callback:function(t){e.visibleTip=t},expression:"visibleTip"}},[e._t("tagTip",(function(){return[e._v(" "+e._s(e.tagItem.label)+" ")]}),{tagData:e.tagItem}),t("span",{class:["tagLabel",e.tagItem.className],attrs:{slot:"reference"},on:{pointerenter:function(t){return e.showTagTip(!0)},pointermove:function(t){return e.showTagTip(!0)},pointerleave:function(t){return e.showTagTip(!1)}},slot:"reference"},[t("tagItemLabel",{attrs:{"tag-item":e.tagItem,showOperateMark:e.showOperateMark}})],1)],2)]],2)},k=[],x=function(){var e=this,t=e._self._c;return t("span",{staticClass:"label-yc"},[t("i",{class:["taglabel-bf",e.tagItem.preIcon||""]}),e._v(" "+e._s(e.tagItem.label)+" "),e.showOperateMark?t("i",{staticClass:"taglabel-af"}):e._e()])},M=[],L={name:"tagItemLabel",props:{tagItem:{type:Object,default(){return{}}},showOperateMark:{type:Boolean,default:!1}}},I=L,C=a(1656),R=(0,C.A)(I,x,M,!1,null,"043f1741",null),B=R.exports,O={name:"tagItem",components:{ElPopover:l.Popover,tagItemLabel:B},props:{tagItem:{type:Object,default(){return{}}},dragable:{type:Boolean,default:!0},tagMoveCallback:{type:Function,default:null},closeTip:{type:Boolean,default:!1},showOperateMark:{type:Boolean,default:!1},showSelected:{type:Boolean,default:!1},tipWdith:{type:[String,Number],default:206}},data(){return{utils:y,moving:!1,changeWHing:!1,visibleTip:!1,moved:!1,changeTimer:null}},methods:{contextmenuHandle(e){return this.$emit("tagContextmenu",{e:e,tagItem:this.tagItem,dragable:this.dragable,closeTip:this.closeTip,showOperateMark:this.showOperateMark}),y.oncontextmenuDisabled(e)},tagBlur(){this.$emit("tagBlur")},clickHandle(e){this.moving||this.moved||this.$emit("tagClick",{e:e,tagItem:this.tagItem,dragable:this.dragable,closeTip:this.closeTip,showOperateMark:this.showOperateMark})},getToContainerXY(e){return{x:e.x||e.pageX,y:e.y||e.pageY}},addRemoveMouseEvent(e){let t=t=>{e&&e(t)},a=()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",a),this.changeChangeWHing(!1),this.changeMoveing(!1),this.$emit("changeEnd")};window.addEventListener("mousemove",t,!1),window.addEventListener("mouseup",a,!1)},changeChangeWHing(e=!1){this.changeWHing=e},changeMoveing(e=!1){this.moving=e,this.moving&&this.showTagTip(!1)},moveBox(e){if(e&&2===+e.button)return;if(!this.dragable)return;if(this.changeWHing)return;let t=T(this.tagItem);this.changeMoveing(!0),this.$emit("tagDragStart",{tagItem:this.tagItem});let a=b(this.$refs["dragBoxRef"]),i=0,l=0;if(a){let e=a.getBoundingClientRect();i=e.left,l=e.top}let s=this.$refs["dragBoxRef"].offsetLeft,n=this.$refs["dragBoxRef"].offsetTop,{x:r,y:o}=this.getToContainerXY(e),g=r-s-i,h=o-n-l;this.addRemoveMouseEvent((e=>{let{x:i,y:l}=this.getToContainerXY(e),s=a.getBoundingClientRect(),n=s.left,r=s.top,o=i-g-n,c=l-h-r;this.tagMoveCallback&&this.tagMoveCallback(e,{tagItemDom:this.$refs["dragBoxRef"],tagItemOld:t,tagItem:this.tagItem,left:o,top:c,toBox_X:g,toBox_Y:h}),this.moved=!0,clearTimeout(this.changeTimer),this.changeTimer=setTimeout((()=>{this.moved=!1}),500)}))},showTagTip(e=!1){this.moving?this.visibleTip=!1:this.visibleTip=e}},mounted(){},beforeDestroy(){clearTimeout(this.changeTimer)}},H=O,S=(0,C.A)(H,D,k,!1,null,"d927a656",null),$=S.exports,_=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"timeLine",style:{left:e.left}},[t("span",{staticClass:"timeBox",style:{backgroundColor:e.color}},[t("i",{style:{borderTopColor:e.color}}),e._v(" "+e._s(e.title)+" ")]),t("span",{staticClass:"line",style:{borderLeftColor:e.color}})])},Y=[],A={name:"yTimeLine",props:{visible:{type:Boolean,default:!1},left:{type:String,default:""},title:{type:String,default:"时间线"},color:{type:String,default:"#000000"}},data(){return{}}},N=A,W=(0,C.A)(N,_,Y,!1,null,"7573238b",null),P=W.exports;let E;const G=4,V=28,X=28,j=5,F=100;let K=2;const U=2*G+Math.min(X,V);K=K<0?1:K;let q=2*G+K*X+(K-1)*j;q=Math.max(q,U);var z={name:"gantt-chart-vue",components:{ElButton:l.Button,ElDialog:l.Dialog,ElDatePicker:l.DatePicker,tagItem:$,yTimeLine:P},props:{readOnly:{type:Boolean,default:!1},disabledRowSilent:{type:Boolean,default:!1},showSelected:{type:Boolean,default:!1},selfAdaptionGanTTHeight:{type:Boolean,default:!0},legend:{type:Array,default(){return[]}},title:{type:String,default:"甘特图"},startDate:{type:String,default:"2023/12/01"},dateDuration:{type:Number,default:7},decreaseDayNum:{type:Number,default:0,validator:function(e){return e>=0}},IncreaseDayNum:{type:Number,default:0,validator:function(e){return e>=0}},timeFormat:{type:String,default:"HH:mm"},rows:{type:Array,default:()=>[]},summaryRows:{type:Array,default(){return[]}},showMarkLine:{type:Boolean,default:!1},markLineTime:{type:String,default:""},rightClickMenuList:{type:Array,default(){return[]}},taskMenuList:{type:Array,default(){return[]}},dragTagEndShowTimeDialog:{type:Boolean,default:!1},openTagMoveDodgeAnimate:{type:Boolean,default:!1},tipWdith:{type:[String,Number],default:206},ganttBgColor:{type:String,default:"#ffffff"},disabledBgColor:{type:String,default:"#ececec"},paintLeft:{type:String,default:"80px"},paintTop:{type:String,default:"40px"},gridLineColor:{type:String,default:"#dddddd"}},data(){return{rowMinRowHeight:U+"px",ganTTBottomHeight:0,utils:y,isFirstInit:!0,scrolledXPercent:0,tickTimer:null,scrollTimer:null,rowsInfo:[],colsInfo:[],paintBoxInfo:{width:0,height:0},tagList:[],draging:{tagItemOld:{},tagItem:{},tagItemDom:null,left:0,top:0},historyDraging:{left:null,top:null},dodgeTagsInfo:{},movingTimeLine:{visible:!1,left:"0px",title:"",color:"#000000"},markLine:{visible:!1,left:"0px",title:"",color:"red"},currentTimeLine:{visible:!1,left:"0px",title:"",color:"#000000"},tickCurrentTimer:null,rightMenuTemObj:{},taskMenu:{visible:!1,btnList:[],selectRow:{},style:{left:"0px",top:"0px"}},tagMenu:{visible:!1,btnList:[],selectTag:{},style:{left:"0px",top:"0px"}},autoCloseTagMenu:!0,tagTimeDialog:{visible:!1,timeRange:[],tag:{}},pickerOptions:{shortcuts:[{text:"最近一周",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},watch:{rows:{handler(){console.log("ganTT rows change..."),this.init()},deep:!0},startDate:{handler(){this.init()}},dateDuration:{handler(){this.init()}},decreaseDayNum:{handler(){this.init()}},IncreaseDayNum:{handler(){this.init()}},showMarkLine:{handler(){this.showAxisTime(this.markLineTime)}},markLineTime:{handler(){this.showAxisTime(this.markLineTime)}}},computed:{paintLeftVal(){return+y.delValUnit(this.paintLeft)},paintTopVal(){return+y.delValUnit(this.paintTop)}},methods:{reW(e,t=!0){let a=(Number(e||0)/y.getDOMWH(this.$refs["paintBoxRefDom"]).w*100).toFixed(2);return t?`${a}%`:a},reH(e,t=!0){let a=(Number(e||0)/y.getDOMWH(this.$refs["paintBoxRefDom"]).h*100).toFixed(2);return t?`${a}%`:a},dealTime(e,t=!1){let a=e;return t||(a=new Date(e).getTime()),a/1e3/60},dealTimeToMs(e){return 60*e*1e3},getGanTTimeRange(){if(this.colsInfo.length<=0)return null;let e=new Date(`${this.colsInfo[0].label} 00:00:00`).getTime(),t=new Date(`${this.colsInfo[this.colsInfo.length-1].label} 23:59:59`).getTime();return{startTime:e,endTime:t}},getPxOfTimeParticle(){let e=this.$refs["paintBoxRefDom"];if(this.colsInfo.length<=0||!e)return!1;let{startTime:t,endTime:a}=this.getGanTTimeRange();return((a-t)/1e3/60).toFixed(0)/y.getDOMWH(e).w},timeStampGapToInfeedDistance(e){let t=this.dealTime(e,!0);return Number(t/this.getPxOfTimeParticle()).toFixed(6)},getStartTimeByLeft(e=0,t){if(this.colsInfo.length<=0)return!1;t=new Date(t).getTime()||new Date(`${this.colsInfo[0].label} 00:00:00`).getTime();let a=this.dealTimeToMs(e*this.getPxOfTimeParticle());return y._date.format(t+a,"YYYY/MM/DD HH:mm:ss")},getLeftByStartTime(e=""){if(!e)return 0;if(this.colsInfo.length<=0)return!1;let t=this.dealTime(`${this.colsInfo[0].label} 00:00:00`);if(e<t)return console.error("开始时间小于甘特图任务开始时间"),!1;let a=this.dealTime(e),i=this.getPxOfTimeParticle();return Number((a-t)/i).toFixed(6)},canvasLeftToGanTTLeft(e){return+e-this.getScrollLeft()+this.paintLeftVal},ganTTLeftToCanvasLeft(e){return+e-this.paintLeftVal+this.getScrollLeft()},pixelToDataCoordinate(e,t){let a=this.getRowIndexByTop(t);return{x:e,y:t,coords:[this.getStartTimeByLeft(e),a>-1?this.rowsInfo[a].label:null]}},getDisabledYS(){let e=0,t=[];return this.rowsInfo.map((a=>{a.disabled&&t.push({min:e,max:e+a.h}),e+=a.h})),t},getPreNoDisabledRowIndex(e=0){let t=this.rowsInfo,a=e-1;if(a<0)return-1;for(;a>=0;a--){let e=t[a];if(!e.disabled)break}return a<0?-1:a},getNextNoDisabledRowIndex(e=0){let t=this.rowsInfo,a=e+1;if(a>=this.rowsInfo.length)return-1;for(;a<t.length;a++){let e=t[a];if(!e.disabled)break}return a>=this.rowsInfo.length?-1:a},judgeYisInDisabledRow(e){let t=this.getDisabledYS();for(let a=0;a<t.length;a++){let{min:i,max:l}=t[a];if(e>=i&&e<=l)return!0}return!1},getRowIndexByTop(e=0){let t=0,a=this.rowsInfo,i=0;for(let l=0;l<a.length;l++){let s=a[l];if(t+=s.h,e<t){i=l;break}}return i},getTopByRowIndex(e=0){let t=0,a=this.rowsInfo;for(let i=0;i<a.length;i++){let l=a[i];if(e===i)break;t+=l.h}return t},tagItemDragable(e={}){if(!e||!Object.keys(e).length)return!1;if(this.readOnly)return!1;if(y.isNull(e.dragable)){let t=this.getLegendConfig(e);return!!t.dragable}return e.dragable},tagItemCloseTip(e={}){if(!e||!Object.keys(e).length)return;let t=this.getLegendConfig(e),a=y.isNull(t.closeTip);return y.isNull(e.closeTip)?!a&&t.closeTip:e.closeTip},tagHasOperateMenu(e){let t=this.getLegendConfig(e);return t.btnList&&t.btnList.length>0},getLegendConfig(e){return this.legend.find((t=>t.type==e.type))||{}},getTagsMapByRowItem(e={}){if(!e||!Object.keys(e).length)return{};let t={},a=e.tags||[];return a.map((e=>{t[e.type]||(t[e.type]=[]),t[e.type].push(e)})),t},calcTagLeftAndWidth(e,t){if(!e||!t)return null;if(this.colsInfo.length<=0)return!1;let a=this.dealTime(`${this.colsInfo[0].label} 00:00:00`);if(e<a)return console.error("开始时间小于甘特图任务开始时间"),!1;let i=this.dealTime(e),l=this.dealTime(t),s=l-i;if(s<0)return console.error("开始时间要小于结束时间"),null;let n=this.getPxOfTimeParticle();return{left:Number((i-a)/n).toFixed(6)+"px",width:Number(s/n).toFixed(6)+"px"}},calcTagTopAndHeight(e,t){return{top:this.calcTagOffsetCanvasTop(e,t)+"px",height:X+"px"}},addTag(e={},t={}){if(!e||!Object.keys(e).length)return!1;if(!t||!Object.keys(t).length)return!1;let a=this.factoryTag(e,t);return this.tagList.push(a),this.tagChangThenRefreshAll(),!0},updateTag(e,t,a=!0){return!!e&&(this.tagList=this.tagList.map((a=>a.tagId===e?{...t,timeStampDiffer:new Date(t.endTime).getTime()-new Date(t.startTime).getTime()}:a)),this.backfillTagListToRowsInfo(),a&&this.refreshGTTWH(),!0)},deleteTag(e){return!!e&&(this.tagList=this.tagList.filter((t=>t.tagId!==e)),this.tagChangThenRefreshAll(),!0)},tagDragStart(e={}){this.$emit("tagDragStart",e)},tagChangeEnd(){let{tagItemOld:e,tagItem:t,tagItemDom:a,left:i,top:l}=this.draging,s=l,n=this.rowsInfo.map((e=>({label:e.label,h:e.h})));if(this.disabledRowSilent){let e=this.rowsInfo.filter((e=>e.disabled));if(e.length===this.rowsInfo.length)return;if(t&&t.style){let e=this.getDisabledYS(),t=0,i=s,l=(y.getDOMWH(this.$refs["paintBoxRefDom"]).h,y.getDOMWH(a).h);while(t!==e.length){t=0;for(let a=0;a<e.length;a++){t++;let{max:s,min:n}=e[a];if(v({disabledYMin:n,disabledYMax:s,tagHeight:l,tagTop:i})){t=0;let e=0,a=this.getRowIndexByTop(i);i>n||0===i?(e=this.getNextNoDisabledRowIndex(a),e<0&&(e=this.getPreNoDisabledRowIndex(a))):(e=this.getPreNoDisabledRowIndex(a+1),e<0&&(e=this.getNextNoDisabledRowIndex(a+1))),i=this.getTopByRowIndex(e);break}}}s=i}}let r=this.getRowIndexByTop(s),o=n[r].label;this.tagList.some((e=>{if(e.tagId===t.tagId)return e.parentKey=o,e.startTime=this.getStartTimeByLeft(i),e.endTime=y._date.format(new Date(e.startTime).getTime()+e.timeStampDiffer,"YYYY/MM/DD HH:mm:ss"),!0})),this.tagChangThenRefreshAll(),this.$emit("tagDragEnd",{...this.draging}),this.dragTagEndShowTimeDialog&&this.draging.tagItemDom&&this.openTagTimeDialog(this.draging.tagItem),this.draging.tagItemOld={},this.draging.tagItem={},this.draging.tagItemDom=null,this.historyDraging={left:null,top:null},this.clearGuideLine()},dodgeTag(e={},t=[]){if(!e||!Object.keys(e).length||!t||!t.length)return;let a=e._dodge,i=(a?a.startTime:new Date(e.startTime).getTime(),a?a.endTime:new Date(e.endTime).getTime()),l=t[0],s=new Date(l.startTime).getTime(),n=new Date(l.endTime).getTime(),r=i-s;r>0&&(l.style.transform=`translateX(${this.timeStampGapToInfeedDistance(r)}px)`,l._dodge={startTime:s+r,endTime:n+r},this.dodgeTagsInfo[l.tagId]=l.style.transform);let o=t.slice(1);o.length&&this.dodgeTag(l,o)},clearTagDodge(e){e.style.transform="translateX(0)",delete e._dodge},tagMoveDodgeAnimate(e={}){if(!this.openTagMoveDodgeAnimate)return;if(!e||!Object.keys(e).length)return;let t=y.delValUnit(e.style.left),a=y.delValUnit(e.style.top),i=this.getStartTimeByLeft(t),l=y._date.format(new Date(i).getTime()+e.timeStampDiffer,"YYYY/MM/DD HH:mm:ss"),s=this.getRowIndexByTop(a),n=this.rowsInfo[s].label,r=this.tagList.filter((t=>t.tagId!==e.tagId&&t.type===e.type&&!1!==t.dragable)),o=r.filter((e=>e.parentKey===n));this.dodgeTagsInfo={},this.tagList.map((e=>this.clearTagDodge(e)));let g=o.filter((e=>new Date(e.startTime).getTime()>new Date(i).getTime()));g.sort(((e,t)=>new Date(e.startTime).getTime()-new Date(t.startTime).getTime())),this.dodgeTag({...e,startTime:i,endTime:l},g)},tagMove(e,{tagItemDom:t,tagItemOld:a,tagItem:i,left:l,top:s,toBox_X:n,toBox_Y:r}){if(null===this.historyDraging.left&&(this.historyDraging.left=l),null===this.historyDraging.top&&(this.historyDraging.top=s),this.clearGuideLine(),this.closeAllMenu("tagMove"),!t)return;let o=y.getDOMWH(t).w,g=y.getDOMWH(t).h;if(this.disabledRowSilent){let e=this.getDisabledYS();if(e.length===this.rowsInfo.length)return;let a=!1;e.map((({max:e,min:t})=>{v({disabledYMin:t,disabledYMax:e,tagHeight:g,tagTop:s})&&(a=!0)})),t.style.cursor=a?"not-allowed":"move"}let h=w({contentDom:this.$refs["paintBoxRefDom"],dragDom:t,left:l,top:s});l=h.left,s=h.top;{let e=l-this.historyDraging.left,t=s-this.historyDraging.top,a=this.getScrollLeft(),i=(this.getTimeColW(),y.getDOMWH(this.$refs["boxRightRefDom"]).w);e<0&&l<a?this.scrollGanTTXTo(l):e>0&&l+o>i+a&&this.scrollGanTTXTo(a+(l+o-i-a));let n=this.getScrollTop(),r=y.getDOMWH(this.$refs["boxRightRefDom"]).h;t<0&&s<n?this.scrollGanTTYTo(s):t>0&&s+g>r+n&&this.scrollGanTTYTo(n+(s+g-r-n))}i.style.left=l+"px",i.style.top=s+"px",this.tagMoveDodgeAnimate(i),this.draging={tagItemOld:a,tagItem:i,tagItemDom:t,left:l,top:s},this.historyDraging={left:l,top:s},this.drawMoveGuideLineY(l,s)},backfillTag(e={}){let t={...e.data||{},tagId:e.tagId,startTime:e.startTime||"",endTime:e.endTime||"",label:e.label||"甘特图 tag",type:e.type||"",closeTip:e.closeTip,dragable:e.dragable,className:e.className,selected:e.selected,preIcon:e.preIcon,hide:e.hide};return t},factoryTag(e={},t={}){let a=this.backfillTag(e),i={data:e,parentKey:t.label||"",...a,tagId:a.tagId||`tag-${(new Date).getTime()}-${f()}`,timeStampDiffer:new Date(e.endTime).getTime()-new Date(e.startTime).getTime(),style:{top:0,width:"auto",left:0,height:X+"px",transform:"translateX(0)"}};this.dodgeTagsInfo[i.tagId]&&(i.style.transform=this.dodgeTagsInfo[i.tagId]);let l=this.calcTagLeftAndWidth(i.startTime,i.endTime);l&&(i.style.left=l.left,i.style.width=l.width);let s=this.calcTagTopAndHeight(i.parentKey,i.type);return s&&(i.style.top=s.top,i.style.height=s.height),i},createTagList(){let e=[];this.rowsInfo.map((t=>{let a=(t.tags||[]).map((e=>this.factoryTag(e,t)));e=e.concat(a)})),this.tagList=e,this.verticalTag()},verticalTag(){let e={};this.tagList.map((t=>{let a=+y.delValUnit(t.style.top);e[t.parentKey]||(e[t.parentKey]=a),a>e[t.parentKey]&&(e[t.parentKey]=a)}));let t=0,a=G;this.rowsInfo.map((i=>{let l=i.label,s=+i.h;y.isNull(e[l])||(e[l]=t+s-Number(e[l])-X-a),t+=i.h})),this.tagList.map((t=>{y.isNull(e[t.parentKey])||(t.style.top=+y.delValUnit(t.style.top)+Number((e[t.parentKey]/2||0).toFixed(4))+"px")}))},backfillTagListToRowsInfo(){this.rowsInfo=this.rowsInfo.map((e=>({...e,tags:this.tagList.filter((t=>t.parentKey===e.label)).map((e=>this.backfillTag(e)))})))},closeTagTimeDialog(){this.tagTimeDialog.visible=!1,this.$emit("closeTagTimeDialog")},confirmTagTimeDlaiog(){let e=this.tagTimeDialog.tag,t=this.tagTimeDialog.timeRange;if(!t||!t.length||!t[0]||!t[1])return(0,l.Message)({message:"请选择时间",type:"warning"});let a=t[0],i=t[1];if(new Date(a).getTime()>new Date(i).getTime())return(0,l.Message)({message:"开始时间应小于结束时间",type:"warning"});this.updateTag(e.tagId,{...e,startTime:a,endTime:i}),this.closeTagTimeDialog()},openTagTimeDialog(e={}){if(!e||!Object.keys(e).length)return;let{startTime:t,endTime:a}=e;t&&a&&(this.tagTimeDialog.tag=e,this.tagTimeDialog.timeRange=[t,a],this.tagTimeDialog.visible=!0)},tagClickHandle(e){if(this.readOnly)return;let{e:t,tagItem:a}=e;this.$emit("tagClick",{e:t,tag:a})},clearAllTagSelected(){this.tagList.map((e=>{e.selected=!1})),this.backfillTagListToRowsInfo()},tagblurHandle(){this.autoCloseTagMenu=!0,setTimeout((()=>{if(this&&this.tagMenu_close&&this.autoCloseTagMenu)try{this.tagMenu_close()}catch(e){console.log("tagblurHandle error：",e)}}),400)},tagContextmenuHandle(e){this.closeAllMenu("tagContextmenuHandle"),this.autoCloseTagMenu=!1;let{tagItem:t,showOperateMark:a}=e;if(this.readOnly||!a)return;let i=this.getLegendConfig(t),l=t.style,s=+y.delValUnit(l.left),n=+y.delValUnit(l.top),r=+y.delValUnit(l.width),o=+y.delValUnit(l.height),g=5,h=s+r,c=n;this.tagMenu={...this.tagMenu,visible:!0,btnList:i.btnList||[],selectTag:{...t}},this.$nextTick((()=>{let e=this.$refs["tagMenuRefDom"],t=this.$refs["paintBoxRefDom"];if(!t||!e)return;let{w:a,h:i}=y.getDOMWH(t),{w:l,h:r}=y.getDOMWH(e);h+l+g>a?h=s-l-g:h+=g,c+r>i&&(c=n-r+o),c=Math.max(c,0),this.tagMenu={...this.tagMenu,style:{left:h+"px",top:c+"px"}}})),this.$emit("tagContextmenu",{tag:t})},tagMenu_close(){this.tagMenu={...this.tagMenu,visible:!1,btnList:[],selectTag:{}}},tagMenuBtnClickHandle(e,t,a){this.readOnly||!t||t.disabled||(this.$emit("tagMenuBtnClick",{e:e,target:t,triggerIndex:a,tag:{...this.tagMenu.selectTag}}),this.tagMenu_close())},drawGridLine(e,t=[],a=[]){2!==!t.length&&2!==!a.length&&(e.beginPath(),e.moveTo(t[0]+.5,t[1]+.5),e.lineTo(a[0]+.5,a[1]+.5),e.lineWidth=1,e.strokeStyle=this.gridLineColor,e.lineCap="butt",e.stroke())},drawDisabledRow(e){if(!e)return;let t=e.getContext("2d"),a=0,i=0;this.rowsInfo.map((l=>{l.disabled&&(t.fillStyle=this.disabledBgColor,t.fillRect(a,i,e.width,l.h)),i+=l.h}))},drawGridCanvas(){let e=this.$refs["canvasGridRefDom"];if(!e)return;let t=e.width,a=e.height,i=e.getContext("2d");y.clearCanvas(e),this.drawDisabledRow(e);{let e=this.rowsInfo,l=0;e.map(((a,s)=>{l+=a.h,0===s&&s===e.length-1||this.drawGridLine(i,[0,l],[t,l])}));let s=this.colsInfo,n=0;s.map(((e,t)=>{n+=e.w,0===t&&t===s.length-1||this.drawGridLine(i,[n,0],[n,a])}))}{let e=this.$refs["canvasGanttRefDom"];if(!e)return;let t=e.width-1.2,a=e.height-1.2,i=e.getContext("2d"),l={leftTop:[0,0],rightTop:[t,0],rightBottom:[t,a],leftBottom:[0,a]};this.drawGridLine(i,l.leftTop,l.rightTop),this.drawGridLine(i,l.rightTop,l.rightBottom),this.drawGridLine(i,l.leftBottom,l.rightBottom),this.drawGridLine(i,l.leftTop,l.leftBottom),this.drawGridLine(i,[0,this.paintTopVal],[t,this.paintTopVal]),this.drawGridLine(i,[this.paintLeftVal,0],[this.paintLeftVal,a]);let s=this.$refs["ganttBoxRefDom"];if(!s)return;let n=s.querySelectorAll(".stat-bottom")||[],r=e.height,o=e.width;for(let g=n.length-1;g>=0;g--){let e=n[g];r-=y.getDOMWH(e).h,this.drawGridLine(i,[0,r],[o,r])}}},drawMoveGuideLineY(e,t){let a=this.$refs["canvasGuideBoxRefDom"];if(!a)return;a.offsetHeight;let i=a.getContext("2d");i.setLineDash([5]),i.lineWidth=1,i.beginPath();let l=t;i.moveTo(0,l),i.lineTo(e,l),i.strokeStyle="rgba(0,0,0,0.2)",i.stroke(),e>=this.getScrollLeft()?this.movingTimeLine={...this.movingTimeLine,visible:!0,left:this.canvasLeftToGanTTLeft(e)+"px",title:y._date.format(this.getStartTimeByLeft(e),"HH:mm")}:this.movingTimeLine.visible=!1},clearGuideLine(){y.clearCanvas(this.$refs["canvasGuideBoxRefDom"]),this.movingTimeLine.visible=!1},calcTagInRowTop(e,t){if(!e||y.isNull(t))return 0;let a=this.rowsInfo,i=a.find((t=>t.label===e)),l=this.getTagsMapByRowItem(i),s=X,n=this.legend,r=j,o=0;for(let g=0;g<n.length;g++){let e=n[g],a=e.type===t;if(l[e.type]&&!a&&(o+=r+s),a)break}return o+=G,o},calcTagOffsetCanvasTop(e,t){if(!e||y.isNull(t))return 0;let a=this.calcRowTopByRowLabel(e),i=this.calcTagInRowTop(e,t);return a+i},calcRowTopByRowIndex(e=0){let t=this.rowsInfo,a=0;for(let i=0;i<t.length;i++){let l=t[i];if(i===e)break;a+=l.h}return a},calcRowTopByRowLabel(e=""){if(!e)return 0;let t=this.rowsInfo,a=t.findIndex((t=>t.label===e));if(a<0)return 0;let i=this.calcRowTopByRowIndex(a);return i},calcRowHeightByRowsInfoItem(e={}){let t=2*G,a=this.getTagsMapByRowItem(e),i=Object.keys(a).length;return i>0&&(t+=i*X+(i-1)*j,t=Math.max(t,q)),Math.max(t,U)},renderToDom(){let e=this.$refs["ganttBoxRefDom"];if(!e)return;let t=+this.colsInfo.reduce(((e,t)=>e+Number(t.w)),0),a=+this.rowsInfo.reduce(((e,t)=>e+Number(t.h)),0);this.paintBoxInfo.width=t,this.paintBoxInfo.height=a;{let e=this.$refs["paintBoxRefDom"];e.style.width=t+"px",e.style.height=a+"px"}{let t=e.querySelectorAll(".paint-row")||[];t.forEach(((e,t)=>{y.setDOMH(e,this.rowsInfo[t].h)}))}{let t=e.querySelectorAll(".paint-col")||[];t.forEach(((e,t)=>{y.setDOMW(e,this.colsInfo[t].w)}))}{let e=this.$refs["ganttBoxRefDom"],t=this.$refs["canvasGanttRefDom"];y.setCanvasWH(t,y.getDOMWH(e).w,y.getDOMWH(e).h)}{let e=this.$refs["canvasGridRefDom"];y.setCanvasWH(e,t,a)}{let e=this.$refs["canvasGuideBoxRefDom"];y.setCanvasWH(e,t,a)}},factoryColsInfoItem({w:e,t:t}){return{w:e,t:y._date.format(t,"YYYY-MM-DD HH:mm:ss"),label:y._date.format(t,"YYYY-MM-DD")}},calcWHCore(e=[]){e&&e.length||(e=this.rowsInfo);let t=this.$refs["headerBoxRefDom"];if(!t||!t.parentNode)return;let a=y.getDOMWH(t).w,i=Math.max(F,(a/this.dateDuration).toFixed(2)),l=Array.from({length:this.dateDuration}).map(((e,t)=>this.factoryColsInfoItem({w:i,t:y._date.add(this.startDate,t,"hour")})));if(!(l.length>0))return console.error("任务持续时间为空！甘特图渲染失败！");{let e=[l[0].label,l.at(-1).label],t=[],a=[],s=Math.abs(+this.decreaseDayNum);s>0&&(t=Array.from({length:s}).map(((t,a)=>this.factoryColsInfoItem({w:i,t:y._date.add(e[0],-1*(a+1),"hour")}))));let n=Math.abs(+this.IncreaseDayNum);n>0&&(a=Array.from({length:n}).map(((t,a)=>this.factoryColsInfoItem({w:i,t:y._date.add(e[1],a+1,"hour")})))),l=[...t.reverse(),...l,...a]}this.colsInfo=l;let s=e.map((e=>({...e,h:+this.calcRowHeightByRowsInfoItem(e)})));this.rowsInfo=s;let n=this.$refs["ganttBoxRefDom"];if(n){if(this.selfAdaptionGanTTHeight){let{h:e}=y.getDOMWH(n),t=e-this.paintTopVal-this.getSummaryRowsHeight();t<=0&&(t=this.rowsInfo.reduce(((e,t)=>e+t.h),0));let a=s.reduce(((e,t)=>e+t.h),0);if(t>=a){let e=0;s.map((t=>{t.tags&&t.tags.length&&e++}));let i=Number(((t-a)/e).toFixed(6));s.map((e=>{e.tags&&e.tags.length&&(e.h=Math.floor(i+e.h))}))}this.ganTTBottomHeight=t}this.rowsInfo=s}},getTimeColW(){return this.colsInfo.length&&this.colsInfo[0].w||0},getDurationTimeWidth(){return this.getTimeColW()*this.dateDuration},getSummaryRowsHeight(){let e=this.$refs["ganttBoxRefDom"];if(!e)return 0;let t=e.querySelectorAll(".stat-bottom")||[],a=0;for(let i=t.length-1;i>=0;i--){let e=t[i];a+=y.getDOMWH(e).h}return a},refreshGTTWH(){this.calcWHCore(),this.renderToDom(),this.drawGridCanvas(),this.createTagList(),this.showAxisTime(this.markLineTime),this.tickTimeLineHandle()},tagChangThenRefreshAll(){this.backfillTagListToRowsInfo(),this.refreshGTTWH()},getdecreaseDayWidth(){return this.getTimeColW()*Math.abs(this.decreaseDayNum)},scrollXToLastPercent(){let e=this.$refs["scrollXBarDom"];e&&this.scrolledXPercent>=0&&this.scrollGanTTXTo(e.scrollWidth*this.scrolledXPercent/100)},scrollToDurationTime(){this.scrollGanTTXTo(this.getdecreaseDayWidth())},scrollGanTTXTo(e=0){let t=this.$refs["scrollXBarDom"];t&&(t.scrollLeft=e||0)},getScrollLeft(){let e=this.$refs["scrollXBarDom"];return e?e.scrollLeft:0},scrollXHandle(e){this.closeAllMenu("scrollXHandle");let t=this.$refs["ganttBoxRefDom"],a=this.$refs["scrollXBarDom"],i=this.$refs["paintBoxRefDom"];if(!t||!a||!i)return;let l=t.querySelectorAll(".scrollX"),s=-1*(this.getScrollLeft()||0);l.forEach((e=>{e.style.transform=`translateX(${s}px)`})),i.style.left=`${s}px`,this.showAxisTime(this.markLineTime),this.tickTimeLineHandle(),this.scrolledXPercent=100*Number((this.getScrollLeft()/a.scrollWidth).toFixed(6))},addScrollXEvent(){let e=this.$refs["scrollXBarDom"];e&&e.addEventListener("scroll",this.scrollXHandle,!1)},removeScrollXEvent(){let e=this.$refs["scrollXBarDom"];e&&e.removeEventListener("scroll",this.scrollXHandle)},scrollGanTTYTo(e=0){let t=this.$refs["scrollYBarDom"];t&&(t.scrollTop=e||0)},getScrollTop(){let e=this.$refs["scrollYBarDom"];return e?e.scrollTop:0},scrollYHandle(e){this.closeAllMenu("scrollYHandle");let t=this.$refs["ganttBoxRefDom"],a=this.$refs["scrollYBarDom"];if(!t||!a)return;let i=t.querySelectorAll(".scrollY"),l=-1*(this.getScrollTop()||0);i.forEach((e=>{e.style.transform=`translateY(${l}px)`}))},mousewheelHandle(e){let t=this.$refs["scrollYBarDom"];t&&t.scrollHeight!==t.offsetHeight&&(e.stopPropagation(),e.preventDefault(),this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout((()=>{let t=-e.deltaY||e.wheelDeltaY,a=this.$refs["scrollYBarDom"];if(!a)return;let i=a.scrollTop,l=y.getDOMWH(a).h/6;t<0||(l*=-1),a.scrollTop=i+l,this.scrollYHandle()})))},addScrollYEvent(){let e=this.$refs["scrollYBarDom"],t=this.$refs["paintBoxRefDom"];e&&t&&(e.addEventListener("scroll",this.scrollYHandle,!1),t.addEventListener("mousewheel",this.mousewheelHandle,!1))},removeScrollYEvent(){this.scrollTimer&&clearTimeout(this.scrollTimer);let e=this.$refs["scrollYBarDom"],t=this.$refs["paintBoxRefDom"];e&&t&&(e.removeEventListener("scroll",this.scrollYHandle),t.removeEventListener("mousewheel",this.mousewheelHandle,!1))},clickShowMarkLine(e){if(!this.showMarkLine)return;let t=e.x||e.pageX||0,a=this.$refs["ganttBoxRefDom"];if(!a)return;let{left:i}=a.getBoundingClientRect(),l=t-i;if(l<this.paintLeftVal)return;let s=this.ganTTLeftToCanvasLeft(l),n=this.getStartTimeByLeft(s);this.showAxisTime(n),this.$emit("changeMarkLineClick",{markLineTime:n,inTags:this.getTimePierceTags(n)})},showAxisTime(e="",t){this.showMarkLine&&e?(this.markLine={...this.markLine,visible:!0,left:y.isNull(t)?this.canvasLeftToGanTTLeft(this.getLeftByStartTime(e))+"px":t,title:y._date.format(e,"HH:mm")},this.$emit("update:markLineTime",e)):this.markLine.visible=!1},hide_TickTimerLine(){this.currentTimeLine.visible=!1},tickTimeLineHandle(){let e=this.getGanTTimeRange();if(!e)return this.hide_TickTimerLine();let{startTime:t,endTime:a}=e,i=(new Date).getTime();if(i>a||i<t)return this.hide_TickTimerLine();let l=this.getLeftByStartTime(i);l>=this.getScrollLeft()?this.currentTimeLine={...this.currentTimeLine,visible:!0,left:this.canvasLeftToGanTTLeft(l)+"px",title:y._date.format(i,"HH:mm")}:this.hide_TickTimerLine()},init_TickTimer(){clearTimeout(this.tickCurrentTimer),this.tickCurrentTimer=setTimeout((()=>{this.tickTimeLineHandle(),this.init_TickTimer()}),1e3)},rightMenu_init(){let e=this.$refs["paintBoxRefDom"];e&&(e.oncontextmenu=e=>{let t=e||window.event;if(t.preventDefault(),this.closeAllMenu("rightMenu_init"),this.readOnly)return!1;if(this.draging.tagItemDom)return!1;let a=this.$refs["rightClickMenuRefDom"];if(!a)return;let i=t.offsetX,l=t.offsetY;if(this.disabledRowSilent&&this.judgeYisInDisabledRow(l))return!1;a.style.display="block",this.rightMenuTemObj=this.pixelToDataCoordinate(i,l);let{w:s,h:n}=y.getDOMWH(this.$refs["boxRightRefDom"]),r=this.getScrollTop()||0,o=this.getScrollLeft()||0,{w:g,h:h}=y.getDOMWH(a);return g+i>s+o&&(i-=g),l+h>n+r&&(l-=h),a.style.left=i+"px",a.style.top=l+"px",!1})},rightMenu_close(){let e=this.$refs["rightClickMenuRefDom"];e&&(e.style.display="none")},rightClickMenuEvent(e,t,a){this.readOnly||!t||t.disabled||(this.$emit("rightClickMenuClick",{e:e,target:t,triggerIndex:a,coordsInfo:this.rightMenuTemObj}),this.rightMenu_close())},taskMenu_Open(e,t={}){if(e.stopPropagation(),e.preventDefault(),this.closeAllMenu("taskMenu_Open"),this.readOnly)return;if(!t||!Object.keys(t).length)return;let a=[];if(a=t.taskMenuList?t.taskMenuList:this.taskMenuList,a.length){let e=this.calcRowTopByRowLabel(t.label),i=this.paintLeftVal+4,l=this.paintTopVal+e+t.h-this.getScrollTop()-10;this.taskMenu.visible=!0,this.taskMenu.btnList=a,this.taskMenu={...this.taskMenu,visible:!0,btnList:a,selectRow:{...t}},this.$nextTick((()=>{let e=this.$refs["ganttBoxRefDom"],t=this.$refs["taskMenuRefDom"];if(e&&t){{let a=y.getDOMWH(e).h,i=y.getDOMWH(t).h;i+l>a&&(l=a-i)}this.taskMenu={...this.taskMenu,style:{left:i+"px",top:l+"px"}}}}))}else this.taskMenu_close()},taskMenu_close(){this.taskMenu={...this.taskMenu,visible:!1,btnList:[],selectRow:{}}},taskMenuBtnClick(e,t,a){this.readOnly||!t||t.disabled||(this.$emit("taskMenuBtnClick",{e:e,target:t,triggerIndex:a,rowData:{...this.taskMenu.selectRow,tags:this.getTagsByRowLabel(this.taskMenu.selectRow.label)}}),this.taskMenu_close())},getTagsByRowLabel(e=""){return e?this.tagList.filter((t=>t.parentKey===e)).map((e=>this.backfillTag(e))):[]},getTimePierceTags(e=""){if(!e)return[];let t=[],a=new Date(e).getTime();return this.tagList.map((e=>{let{startTime:i,endTime:l}=e;a>=new Date(i).getTime()&&a<=new Date(l).getTime()&&t.push({...e,data:this.backfillTag(e)})})),t},getRowsData(){return this.backfillTagListToRowsInfo(),this.refreshGTTWH(),this.rowsInfo.map((e=>{let t={...e,tags:e.tags.map((e=>{let t={...e};return delete t.tagId,t}))};return delete t.h,t}))},getAllSelectedTags(){let e=[];return this.tagList.map((t=>{t.selected&&e.push({...t,data:this.backfillTag(t)})})),e},closeAllMenu(e){this.rightMenu_close(),this.taskMenu_close(),this.tagMenu_close()},ganTTblur(){this.closeAllMenu("ganTTblur")},ganTTClick(e){this.closeAllMenu("ganTTClick"),this.clickShowMarkLine(e)},event_windowResize(){clearTimeout(this.tickTimer),this.tickTimer=setTimeout((()=>{console.log("甘特图 resize...");try{this.closeAllMenu("event_windowResize"),this.refreshGTTWH(),this.isFirstInit&&this.$nextTick((()=>{this.isFirstInit=!1,this.scrollToDurationTime()}))}catch(e){console.error("甘特图 resize error：",e)}}),50)},init(){this.dodgeTagsInfo={},this.calcWHCore(T(this.rows)),this.addEvents(),this.init_TickTimer()},addEvents(){this.removeEvents();let e=this.$refs["ganttBoxRefDom"];E=new ResizeObserver(this.event_windowResize),E.observe(e),this.addScrollXEvent(),this.addScrollYEvent(),this.rightMenu_init()},removeEvents(){let e=this.$refs["ganttBoxRefDom"];e&&E?.unobserve(e),this.removeScrollXEvent(),this.removeScrollYEvent(),clearTimeout(this.tickCurrentTimer)}},mounted(){this.init()},beforeDestroy(){this.removeEvents()}},Q=z,J=(0,C.A)(Q,c,d,!1,null,"5e75bc6a",null),Z=J.exports,ee={components:{ganttChartVue:Z},data(){return{drawer:!1,activeName:"1",optionList:[{label:"R21",value:"R21"},{label:"R22",value:"R22"},{label:"R23",value:"R23"},{label:"R24",value:"R24"},{label:"R25",value:"R25"},{label:"R26",value:"R26"},{label:"R27",value:"R27"}],form:{name:"",number:"",desc:"",length:"",times:[]},dateValue:y._date.format(new Date,"YYYY/MM/DD"),showOther:!0,showMode:1,options:[{label:"图2显示全部",value:1},{label:"图2不显示停机",value:2}],legendAll:[{label:"模型预排",color:"#365ce5",type:1},{label:"生产实绩",color:"#39c236",type:2},{label:"计划停机1",color:"#f5212d",type:3},{label:"计划停机",color:"#ff9c1b",type:4}],showDetail:!1,ganTT1Option:{readOnly:!1,title:"设备名称",legend:[{label:"模型预排",color:"#365ce5",type:1,dragable:!0,closeTip:!1,btnList:[]},{label:"生产实绩",color:"#39c236",type:2},{label:"计划停机1",color:"#f5212d",type:3,closeTip:!0},{label:"计划停机2",color:"#ff9c1b",type:4}],startDate:y._date.format(new Date,"YYYY/MM/DD"),dateDuration:24,rightClickMenuList:[{label:"新增",disabled:!1}],rows:[{label:"R20",labelValue:"2管",tags:[{startTime:"2024/08/31 02:10",endTime:"2024/08/31 06:10",label:"249495966|12345|华东*市|黑色",bgColor:"#ff9c1b",type:1,closeTip:!0,dragable:!0,className:"tagSpecial",selected:!0,hide:!1},{startTime:"2024/08/31 06:20",endTime:"2024/08/31 09:10",label:"249495966|12345|华东*市|紫色",bgColor:"#ff9c1b",type:1,dragable:!0},{startTime:"2024/08/31 14:10",endTime:"2024/08/31 16:10",label:"249495966|12345|华东*市|红色",bgColor:"#03B48A",type:1,dragable:!0},{startTime:"2024/08/31 010:00",endTime:"2024/08/31 12:10",label:"249495966|12345|华东*市|黄色",bgColor:"#80B4DB",type:1,dragable:!0},{startTime:"2024/08/31 16:30",endTime:"2024/08/31 18:00",label:"249495966|12345|华东*市|天蓝色",bgColor:"#80B4DB",type:1,dragable:!0}]},{label:"R21",labelValue:"2管",tags:[{startTime:"2024/08/31 02:10",endTime:"2024/08/31 06:10",bgColor:"#AE7BCF",label:"249495966|12345|华东*市|天蓝色",type:1},{startTime:"2024/08/31 08:10",endTime:"2024/08/31 10:10",bgColor:"#AE7BCF",label:"249495966|12345|华东*市|天蓝色",type:1}]},{label:"R22",labelValue:"2管",tags:[]},{label:"R23",labelValue:"2管",tags:[{startTime:"2024/08/31 02:10",endTime:"2024/08/31 06:10",label:"249495966|12345|华东*市|黑色",bgColor:"#0E3A5F",type:1}]},{label:"R24",labelValue:"2管",tags:[]},{label:"R25",labelValue:"2管",tags:[]},{label:"R26",labelValue:"2管",disabled:!0,tags:[]},{label:"R27",labelValue:"2管",tags:[]}]},ganTT1OptionRows:[{label:"R20",labelValue:"2管",tags:[{startTime:"2024/08/31 02:10",endTime:"2024/08/31 06:10",label:"249495966|12345|华东*市|黑色",bgColor:"#ff9c1b",type:1,closeTip:!0,dragable:!0,className:"tagSpecial",selected:!0,hide:!1},{startTime:"2024/08/31 06:20",endTime:"2024/08/31 09:10",label:"249495966|12345|华东*市|紫色",bgColor:"#ff9c1b",type:1,dragable:!0},{startTime:"2024/08/31 14:10",endTime:"2024/08/31 16:10",label:"249495966|12345|华东*市|红色",bgColor:"#03B48A",type:1,dragable:!0},{startTime:"2024/08/31 010:00",endTime:"2024/08/31 12:10",label:"249495966|12345|华东*市|黄色",bgColor:"#80B4DB",type:1,dragable:!0},{startTime:"2024/08/31 16:30",endTime:"2024/08/31 18:00",label:"249495966|12345|华东*市|天蓝色",bgColor:"#80B4DB",type:1,dragable:!0}]},{label:"R21",labelValue:"2管",tags:[{startTime:"2024/08/31 02:10",endTime:"2024/08/31 06:10",bgColor:"#AE7BCF",label:"249495966|12345|华东*市|天蓝色",type:1},{startTime:"2024/08/31 08:10",endTime:"2024/08/31 10:10",bgColor:"#AE7BCF",label:"249495966|12345|华东*市|天蓝色",type:1}]},{label:"R22",labelValue:"2管",tags:[]},{label:"R23",labelValue:"2管",tags:[{startTime:"2024/08/31 02:10",endTime:"2024/08/31 06:10",label:"249495966|12345|华东*市|黑色",bgColor:"#0E3A5F",type:1}]},{label:"R24",labelValue:"2管",tags:[]},{label:"R25",labelValue:"2管",tags:[]},{label:"R26",labelValue:"2管",disabled:!0,tags:[]},{label:"R27",labelValue:"2管",tags:[]}],ganTT2Option:{title:"甘特图2",readOnly:!1,disabledRowSilent:!1,legend:[{label:"第一行tag",color:"#365ce5",type:1,dragable:!0,closeTip:!1,btnList:[{label:"开启tag选中",disabled:!1},{label:"关闭tag选中",disabled:!1},{label:"清除所有tag选中",disabled:!1},{label:"获取所有选中tag",disabled:!1},{label:"加锁",value:"addPreIcon",disabled:!1},{label:"合并",value:"merge",disabled:!1}]},{label:"第二行tag",color:"#39c236",type:2,dragable:!1}],startDate:"2023/12/01",dateDuration:7,taskMenuList:[{label:"停产",disabled:!1},{label:"启用",disabled:!1}],rows:[{label:"菜单不同",taskMenuList:[{label:"不同的菜单1",disabled:!0},{label:"不同的菜单2",disabled:!1}],tags:[{startTime:"2023/12/02 02:10:00",endTime:"2023/12/03 06:10:00",label:"生产实绩,此tag不显示tip",type:2,closeTip:!0,className:"",selected:!1,preIcon:"iconfont icon-chakan"},{startTime:"2023/12/01 02:10:00",endTime:"2023/12/03 06:00:00",label:"计划停机，同一行，但是颜色不同",className:"haltTag",type:1,dragable:!0},{startTime:"2023/12/04 02:10:00",endTime:"2023/12/05 06:00:00",label:"停机，tag不可拖动",className:"planHaltTag",type:1,dragable:!1},{startTime:"2023/12/05 12:10:00",endTime:"2023/12/06 06:00:00",label:"xxxx,xx吨,完成度90%",type:1}]},{label:"项目B",tags:[{startTime:"2023/12/06 02:10:00",endTime:"2023/12/07 06:10:00",label:"模型预排1111,xx吨,完成度90%",type:1}]},{label:"项目C",disabled:!0,tags:[]},{label:"项目D",tags:[{startTime:"2023/12/01 02:10:00",endTime:"2023/12/03 06:10:00",label:"xxxx,xx吨,完成度90%",type:1}]},{label:"项目E",tags:[]}],summaryRows:[["合计1","1","2","3","1","2","3",""],["合计2","a","b","c","d","e","f","11"]],rightClickMenuList:[{label:"新增模型xx",disabled:!0},{label:"新增停机xx",disabled:!1}],dragTagEndShowTimeDialog:!0,showSelected:!1,decreaseDayNum:1,IncreaseDayNum:1,openTagMoveDodgeAnimate:!0,selfAdaptionGanTTHeight:!1},showMarkLine:!1,markLineTime:"2023/10/04 06:10:00",selectTagIds:[],recordPreStep:null}},mounted(){this.filterGanTTTags()},methods:{handleChange(e){this.ganTT1Option.startDate=e,this.ganTT1Option.rows=this.ganTT1OptionRows.map((e=>{const t=e.tags.filter((e=>e.startTime.includes(this.dateValue)));return{...e,tags:t}})),console.log(this.ganTT1Option.rows,"-------123"),console.log(this.ganTT1OptionRows,"-------1230")},onSave(){this.ganTT1Option.startDate=this.dateValue,this.ganTT1Option.rows=this.ganTT1OptionRows.map((e=>(e.label===this.form.name&&(e.tags=e.tags?e.tags:[],e.tags.push({startTime:`${this.dateValue} ${this.form.times[0]}`,endTime:`${this.dateValue} ${this.form.times[1]}`,label:`${this.form.number} | ${this.form.desc} | ${this.form.length}`,type:1,dragable:!0})),e))),this.drawer=!1,console.log(this.ganTT1Option.rows,"-------12")},filterGanTTTags(){let e=this.ganTT2Option.rows;1===+this.showMode?this.ganTT2Option.rows=e.map((e=>(e.tags.map((e=>{e.hide=!1})),e))):this.ganTT2Option.rows=e.map((e=>(e.tags.map((e=>{e.className&&(e.hide=!0)})),e)))},logParams(){let e=this.$refs["ganTT1"],t=this.$refs["ganTT2"];console.log("ganTT1 标记线贯穿tags",e.getTimePierceTags(this.markLineTime)),console.log("ganTT2 标记线贯穿tags",t.getTimePierceTags(this.markLineTime)),console.log("ganTT1 甘特图数据",e.getRowsData()),console.log("ganTT2 甘特图数据",t.getRowsData()),console.log("ganTT1 项目B这行下的所有tags",e.getTagsByRowLabel("项目B"))},changeShowDetail(e=!1){this.showDetail=!this.showDetail},changeMarkLineClick1(e){console.log(e,1)},changeMarkLineClick2(e){console.log(e,2)},rightClickMenuClick1(e){this.form.name=e.coordsInfo.coords[1],this.drawer=!0,console.log("甘特图右键菜单点击",e)},rightClickMenuClick2(e){switch(console.log("甘特图右键菜单点击",e),+e.triggerIndex){case 0:console.log("点击按钮0");break;case 1:console.log("点击按钮1");break}},taskMenuBtnClick(e){console.log("左侧任务菜单点击",e)},tagDragEnd2(e){console.log("tag拖拽结束",e)},tagDragStart(){this.saveStep()},saveStep(){this.recordPreStep=h(this.$refs["ganTT2"].getRowsData())},withdraw(){this.recordPreStep?(this.ganTT2Option.rows=this.recordPreStep,this.recordPreStep=null):this.$message({message:"只能撤回一步",type:"warning"})},closeTagTimeDialog(){this.ganTT2Option.rows=this.$refs["ganTT2"].getRowsData(),console.log("注意：rows 改变将触发甘特图init方法，会清除避让信息")},tagMenuBtnClick1(e){console.log("tag上右键菜单按钮",e)},tagMenuBtnClick2(e){console.log("tag上右键菜单按钮",e);let{tag:t,triggerIndex:a,target:i}=e;switch(i.label){case"开启tag选中":this.ganTT2Option.showSelected=!0;break;case"关闭tag选中":this.ganTT2Option.showSelected=!1;break;case"清除所有tag选中":this.$refs["ganTT2"].clearAllTagSelected();break;case"获取所有选中tag":let e=this.$refs["ganTT2"].getAllSelectedTags();console.log("所有选中tag",e);break}if("addPreIcon"===i.value&&this.$refs["ganTT2"].updateTag(t.tagId,{...t,preIcon:t.preIcon?"":"el-icon-goods"},!1),"merge"===i.value){if(this.selectTagIds.length<2)return this.$message({message:"请选择需要合并的两项",type:"warning"});this.$confirm("确定合并已选中的两个订单?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{let e=this.$refs["ganTT2"].getAllSelectedTags();console.log("已选中的两个订单:",e)})).catch((()=>{}))}},tagClick2(e){if(console.log("tag 点击",e),!this.ganTT2Option.showSelected)return;let t=e.tag;if(1!==+t.type)return this.$message({message:"只有第一行可以选中",type:"warning"});let a=t.tagId,i=this.selectTagIds.includes(a),l=!t.selected,s=this.$refs["ganTT2"].getAllSelectedTags();if(this.selectTagIds.length){let e=this.selectTagIds[0],a=s.find((t=>t.tagId===e));if(!a){if(this.selectTagIds=s.map((e=>e.tagId)),!this.selectTagIds.length)return;e=s[0].tagId,a=s[0]}let n=a.parentKey;if(n!==t.parentKey)return this.$message({message:"请选择相同行",type:"warning"});!i&&l&&this.selectTagIds.length>=2&&(this.selectTagIds.shift(),this.$refs["ganTT2"].updateTag(e,{...a,selected:!1},!1))}this.selectTagIds=this.selectTagIds.filter((e=>e!==a)),l&&this.selectTagIds.push(a),this.$refs["ganTT2"].updateTag(a,{...t,selected:l},!1)},tagContextmenuHandle2({tag:e}){let t=this.ganTT2Option.legend.find((t=>t.type===e.type)),a=t.btnList.find((e=>"addPreIcon"===e.value));a.label=e.preIcon?"解锁":"加锁"}}},te=ee,ae=(0,C.A)(te,o,g,!1,null,"69c49a8d",null),ie=ae.exports,le={name:"App",components:{ganttDemo:ie}},se=le,ne=(0,C.A)(se,n,r,!1,null,null,null),re=ne.exports;i["default"].config.productionTip=!1,i["default"].use(s()),new i["default"]({render:e=>e(re)}).$mount("#app")}},t={};function a(i){var l=t[i];if(void 0!==l)return l.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,i,l,s){if(!i){var n=1/0;for(h=0;h<e.length;h++){i=e[h][0],l=e[h][1],s=e[h][2];for(var r=!0,o=0;o<i.length;o++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](i[o])}))?i.splice(o--,1):(r=!1,s<n&&(n=s));if(r){e.splice(h--,1);var g=l();void 0!==g&&(t=g)}}return t}s=s||0;for(var h=e.length;h>0&&e[h-1][2]>s;h--)e[h]=e[h-1];e[h]=[i,l,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var l,s,n=i[0],r=i[1],o=i[2],g=0;if(n.some((function(t){return 0!==e[t]}))){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(o)var h=o(a)}for(t&&t(i);g<n.length;g++)s=n[g],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(h)},i=self["webpackChunkgantt"]=self["webpackChunkgantt"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(4886)}));i=a.O(i)})();
//# sourceMappingURL=app.58510381.js.map